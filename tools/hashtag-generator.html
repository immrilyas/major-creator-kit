<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Instagram Hashtag Generator | Major Creator Kit</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Correct path to the main stylesheet -->
    <link rel="stylesheet" href="../style.css">

    <style>
        /* Page-specific styles */
        .tool-wrapper {
            max-width: 800px;
            margin: 2rem auto;
        }

        .tool-container {
            padding: 2.5rem;
            background-color: var(--card-bg);
            border-radius: 10px;
            border: 1px solid var(--border-color);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .tool-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .tool-header h1 {
            font-size: 2.8rem;
            color: var(--heading-text);
            margin-bottom: 0.5rem;
            background: linear-gradient(90deg, var(--icon-color-3), var(--grad-end));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; text-fill-color: transparent;
        }
        
        .tool-header p {
            font-size: 1.1rem;
            color: var(--primary-text);
        }

        .form-group label {
            display: block;
            font-weight: 500;
            margin-bottom: 0.75rem;
        }
        
        .form-group textarea {
            width: 100%;
            padding: 0.85rem;
            background-color: var(--dark-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--primary-text);
            font-family: var(--font-family);
            font-size: 1rem;
            min-height: 100px;
            resize: vertical;
        }
        
        .form-group textarea:focus {
            outline: none;
            border-color: var(--grad-mid);
            box-shadow: 0 0 0 3px rgba(114, 9, 183, 0.3);
        }
        
        .generate-btn {
            background-image: linear-gradient(90deg, var(--icon-color-3) 0%, var(--grad-end) 100%);
            color: var(--heading-text);
            padding: 0.8rem 2rem;
            border-radius: 8px;
            font-weight: 700;
            font-size: 1.1rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: none;
            cursor: pointer;
            width: 100%;
            margin-top: 1.5rem;
        }

        .generate-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(76, 201, 240, 0.25);
        }
        
        #hashtags-output {
            margin-top: 2rem;
            padding: 1.5rem;
            border: 1px dashed var(--border-color);
            border-radius: 8px;
            background-color: var(--dark-bg);
            min-height: 150px;
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            transition: border-color 0.3s ease;
        }
        
        #hashtags-output.loading {
            border-color: var(--grad-mid);
            align-items: center;
            justify-content: center;
        }

        .hashtag-pill {
            background-color: var(--card-bg);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 1rem;
            font-weight: 500;
            border: 1px solid var(--border-color);
        }
        
        .copy-all-btn {
            background-color: var(--grad-start);
            color: var(--heading-text);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            display: none;
            margin-top: 1.5rem;
        }
        
        .content-section {
            margin-top: 4rem;
            color: #dcdcdc;
        }
    </style>
</head>
<body>

    <header class="main-header">
        <div class="container header-content">
            <a href="../index.html" class="logo">
                <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:var(--grad-start);"/><stop offset="100%" style="stop-color:var(--grad-end);"/></linearGradient></defs><path fill="url(#logoGradient)" d="M50,5 C74.85,5 95,25.15 95,50 C95,74.85 74.85,95 50,95 C25.15,95 5,74.85 5,50 C5,25.15 25.15,5 50,5 Z M30,30 L70,30 L70,70 L30,70 L30,30 Z M40,40 L60,40 L60,60 L40,60 L40,40 Z"/></svg>
                <span class="logo-text">Major Creator Kit</span>
            </a>
            <nav class="main-nav">
                <a href="../index.html#tools">Tools</a>
                <a href="../blog/blog.html">Blog</a>
                <a href="../legal/about.html">About</a>
            </nav>
        </div>
    </header>

    <main class="tool-wrapper">
        <div class="tool-container">
            <header class="tool-header">
                <h1>AI Hashtag Generator</h1>
                <p>Describe your post, and let AI find the perfect hashtags for you.</p>
            </header>

            <div class="form-group">
                <label for="prompt-input">What is your post about?</label>
                <textarea id="prompt-input" rows="4" placeholder="e.g., A photo of biryani at a restaurant in Karachi, or, A video of my morning workout at the gym..."></textarea>
            </div>

            <button class="generate-btn" id="generate-btn">Generate Hashtags</button>

            <div id="hashtags-output">
                <p style="opacity: 0.7;">Your AI-generated hashtags will appear here...</p>
            </div>
            
            <button class="copy-all-btn" id="copy-btn">Copy All</button>

        </div>
        
        <article class="content-section" style="border-top: 1px solid var(--border-color); padding-top: 2rem;">
            <h2 style="border-left-color: var(--icon-color-3)">About the AI Hashtag Generator</h2>
            <p>
                Welcome to the next level of hashtag strategy! This isn't just a simple generator; it's an AI-powered tool designed to understand the context of your content and provide highly relevant, effective hashtags to maximize your reach. Instead of matching one keyword, our AI analyzes your post's description to suggest a smart mix of popular, niche, and specific tags.
            </p>
            <h3>How AI Improves Your Hashtag Game</h3>
            <p>
                A basic generator gives you hashtags for "food". But our AI understands the difference between "homemade biryani" and "fine dining pasta". This contextual understanding allows it to generate a much more targeted and effective set of hashtags, connecting your content with an audience that is genuinely interested in what you're posting. This leads to higher quality engagement and more authentic follower growth.
            </p>
        </article>
    </main>

    <footer class="main-footer">
        <p>&copy; 2025 Major Creator Kit. All Rights Reserved. A project by Ilyas Khan.</p>
    </footer>

    <script>
        const generateBtn = document.getElementById('generate-btn');
        const promptInput = document.getElementById('prompt-input');
        const hashtagsOutput = document.getElementById('hashtags-output');
        const copyBtn = document.getElementById('copy-btn');

        generateBtn.addEventListener('click', async () => {
            const userPrompt = promptInput.value.trim();
            if (!userPrompt) {
                alert("Please describe your post first!");
                return;
            }

            generateBtn.disabled = true;
            generateBtn.textContent = 'AI is thinking...';
            hashtagsOutput.innerHTML = '<p style="opacity: 0.7;">Generating relevant hashtags... âœ¨</p>';
            hashtagsOutput.classList.add('loading');
            copyBtn.style.display = 'none';

            const finalPrompt = `Generate exactly 30 relevant and effective Instagram hashtags for a post about: "${userPrompt}". 
            Include a mix of popular, niche, and specific tags. 
            Your response must be ONLY a single line of space-separated hashtags, each starting with #. Do not add any other text.`;

            try {
                // --- API KEY ADDED HERE ---
                const apiKey = "AIzaSyA8cpH8FSaTJJof93-JjpNyosQ0T2xvZOE"; 

                let chatHistory = [{ role: "user", parts: [{ text: finalPrompt }] }];
                const payload = { contents: chatHistory };
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) throw new Error(`API Error: ${response.status}`);
                
                const result = await response.json();
                
                if (result.candidates && result.candidates[0].content.parts[0].text) {
                    const hashtagsText = result.candidates[0].content.parts[0].text;
                    const hashtagsArray = hashtagsText.split(' ').filter(tag => tag.startsWith('#'));
                    displayHashtags(hashtagsArray);
                } else {
                    throw new Error("Unexpected API response.");
                }

            } catch (error) {
                console.error("Error:", error);
                hashtagsOutput.innerHTML = `<p style="color: var(--icon-color-7);">Sorry, something went wrong. This could be a network issue or an invalid API key. Please try again.</p>`;
            } finally {
                generateBtn.disabled = false;
                generateBtn.textContent = 'Generate Hashtags';
                hashtagsOutput.classList.remove('loading');
            }
        });

        function displayHashtags(hashtags) {
            hashtagsOutput.innerHTML = '';
            if (hashtags.length === 0) {
                hashtagsOutput.innerHTML = '<p>No hashtags were generated. Please try a different prompt.</p>';
                copyBtn.style.display = 'none';
                return;
            }
            hashtags.forEach(tag => {
                const pill = document.createElement('span');
                pill.className = 'hashtag-pill';
                pill.textContent = tag;
                hashtagsOutput.appendChild(pill);
            });
            copyBtn.style.display = 'block';
        }

        copyBtn.addEventListener('click', () => {
            const pills = document.querySelectorAll('.hashtag-pill');
            let textToCopy = Array.from(pills).map(pill => pill.textContent).join(' ');

            if (textToCopy) {
                navigator.clipboard.writeText(textToCopy.trim()).then(() => {
                    copyBtn.textContent = 'Copied!';
                    setTimeout(() => { copyBtn.textContent = 'Copy All'; }, 1500);
                });
            }
        });
    </script>

</body>
</html>
