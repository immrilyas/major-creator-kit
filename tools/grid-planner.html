<section id="grid-planner" style="padding: 4rem 1rem; background: #0e0e11; color: #fff; font-family: 'Poppins', sans-serif;">
  <div style="max-width: 1000px; margin: auto;">
    <h2 style="text-align: center; font-size: 2.5rem; color: #00ffab; margin-bottom: 1rem;">ðŸ“² Instagram Grid Planner</h2>
    <p style="text-align: center; margin-bottom: 2rem;">Upload minimum 3 images to preview your Instagram grid layout.</p>

    <div style="text-align: center;">
      <input 
        type="file" 
        id="imageUploader" 
        accept="image/*" 
        multiple 
        style="margin-bottom: 1rem; padding: 0.7rem 1.2rem; border-radius: 8px; background: #1f1f22; color: #00ffab; border: 1px solid #333; cursor: pointer;"
      >
      <br>
      <button 
        id="generateGrid" 
        style="display: none; padding: 0.7rem 2rem; font-size: 1rem; border-radius: 8px; background-color: #00ffab; color: #000; border: none; cursor: pointer; transition: 0.3s;"
      >
        Convert to Grid
      </button>
    </div>

    <div id="gridPreview" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; max-width: 600px; margin: 2rem auto 0;"></div>
  </div>

  <script>
    const imageUploader = document.getElementById('imageUploader');
    const generateGrid = document.getElementById('generateGrid');
    const gridPreview = document.getElementById('gridPreview');

    imageUploader.addEventListener('change', function () {
      const files = [...imageUploader.files];
      if (files.length >= 3 && files.length <= 9) {
        generateGrid.style.display = 'inline-block';
      } else {
        generateGrid.style.display = 'none';
        gridPreview.innerHTML = '';
        if (files.length > 9) alert("Please upload a maximum of 9 images.");
        if (files.length < 3) alert("Minimum 3 images required.");
      }
    });

    generateGrid.addEventListener('click', function () {
      const files = [...imageUploader.files].slice(0, 9);
      gridPreview.innerHTML = '';

      files.forEach(file => {
        const reader = new FileReader();
        reader.onload = function (e) {
          const img = document.createElement('img');
          img.src = e.target.result;
          img.style.width = '100%';
          img.style.aspectRatio = '1 / 1';
          img.style.objectFit = 'cover';
          img.style.borderRadius = '12px';
          img.style.border = '2px solid #00ffab';
          gridPreview.appendChild(img);
        };
        reader.readAsDataURL(file);
      });
    });
  </script>
</section>
